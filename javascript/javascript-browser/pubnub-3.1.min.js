(function(){
function m(){return function(){}}
window.JSON&&window.JSON.stringify||function(){function a(a){b.lastIndex=0;return b.test(a)?'"'+a.replace(b,function(a){var c=k[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(b,z){var d,f,h,k,p=e,l,g=z[b];g&&("object"===typeof g&&"function"===typeof g.toJSON)&&(g=g.toJSON(b));"function"===typeof j&&(g=j.call(z,b,g));switch(typeof g){case "string":return a(g);case "number":return isFinite(g)?String(g):"null";case "boolean":case "null":return String(g);
case "object":if(!g)return"null";e+=i;l=[];if("[object Array]"===Object.prototype.toString.apply(g)){k=g.length;for(d=0;d<k;d+=1)l[d]=c(d,g)||"null";h=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+p+"]":"["+l.join(",")+"]";e=p;return h}if(j&&"object"===typeof j){k=j.length;for(d=0;d<k;d+=1)f=j[d],"string"===typeof f&&(h=c(f,g))&&l.push(a(f)+(e?": ":":")+h)}else for(f in g)Object.hasOwnProperty.call(g,f)&&(h=c(f,g))&&l.push(a(f)+(e?": ":":")+h);h=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+
p+"}":"{"+l.join(",")+"}";e=p;return h}}window.JSON||(window.JSON={});"function"!==typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,i,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,
b,d){var f;i=e="";if("number"===typeof d)for(f=0;f<d;f+=1)i+=" ";else"string"===typeof d&&(i=d);if((j=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof JSON.parse&&(JSON.parse=function(a){return eval("("+a+")")})}();
if(!window.PUBNUB){var n=function(){return"x"+ ++aa+""+ +new Date},q=function(){return+new Date},ba=function(a,c){function b(){i+c>q()?(clearTimeout(e),e=setTimeout(b,c)):(i=q(),a())}var e,i=0;return b},r=function(a){return document.getElementById(a)},s=function(a){console.log(a)},u=function(a,c){var b=[];t(a.split(/\s+/),function(a){t((c||document).getElementsByTagName(a),function(a){b.push(a)})});return b},t=function(a,c){if(a&&c)if("undefined"!=typeof a[0])for(var b=0,e=a.length;b<e;)c.call(a[b],
a[b],b++);else for(b in a)a.hasOwnProperty&&a.hasOwnProperty(b)&&c.call(a[b],b,a[b])},w=function(a,c){var b=[];t(a||[],function(a,i){b.push(c(a,i))});return b},da=function(a,c){return a.replace(ca,function(a,e){return c[e]||a})},x=function(a,c,b){t(a.split(","),function(a){function i(a){a||(a=window.event);b(a)||(a.cancelBubble=!0,a.returnValue=!1,a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation())}c.addEventListener?c.addEventListener(a,i,!1):c.attachEvent?c.attachEvent("on"+
a,i):c["on"+a]=i})},y=function(){return u("head")[0]},A=function(a,c,b){if(b)a.setAttribute(c,b);else return a&&a.getAttribute&&a.getAttribute(c)},B=function(a,c){for(var b in c)if(c.hasOwnProperty(b))try{a.style[b]=c[b]+(0<"|width|height|top|left|".indexOf(b)&&"number"==typeof c[b]?"px":"")}catch(e){}},C=function(a){return document.createElement(a)},F=function(){return D||E()?0:n()},G=function(a){return w(encodeURIComponent(a).split(""),function(a){return 0>"-_.!~*'()".indexOf(a)?a:"%"+a.charCodeAt(0).toString(16).toUpperCase()}).join("")},
L=function(a){function c(a,b){p||(p=1,a||H(b),h.onerror=null,clearTimeout(l),setTimeout(function(){a&&g();var b=r(M),c=b&&b.parentNode;c&&c.removeChild(b)},I))}if(D||E()){a:{var b,e=function(){if(!k){k=1;clearTimeout(j);try{response=JSON.parse(b.responseText)}catch(a){return d(1)}z(response)}},i=0,k=0,j;j=setTimeout(function(){d(1)},J);var $=a.a||m(),z=a.b||m(),d=function(a){i||(i=1,clearTimeout(j),b&&(b.onerror=b.onload=null,b.abort&&b.abort(),b=null),a&&$())};try{b=E()||window.XDomainRequest&&new XDomainRequest||
new XMLHttpRequest,b.onerror=b.onabort=function(){d(1)},b.onload=b.onloadend=e,b.timeout=J,b.open("GET",a.url.join(K),!0),b.send()}catch(f){d(0);D=0;a=L(a);break a}a=d}return a}var h=C("script"),e=a.c,M=n(),p=0,l=setTimeout(function(){c(1)},J),g=a.a||m(),H=a.b||m();window[e]=function(a){c(0,a)};h[N]=N;h.onerror=function(){c(1)};h.src=a.url.join(K);A(h,"id",M);y().appendChild(h);return c},Q=function(){PUBNUB.time(q);PUBNUB.time(function(){setTimeout(function(){O||(O=1,t(P,function(a){a[2].subscribe(a[0],
a[1])}))},I)})},E=function(){if(!R.get)return 0;var a={id:E.id++,send:m(),abort:function(){a.id={}},open:function(c,b){E[a.id]=a;R.get(a.id,b)}};return a};window.console||(window.console=window.console||{});console.log||(console.log=(window.opera||{}).postError||m());var S,U=window.localStorage;S={get:function(a){try{return U?U.getItem(a):-1==document.cookie.indexOf(a)?null:((document.cookie||"").match(RegExp(a+"=([^;]+)"))||[])[1]||null}catch(c){}},set:function(a,c){try{if(U)return U.setItem(a,c)&&
0;document.cookie=a+"="+c+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(b){}}};var aa=1,ca=/{([\w\-]+)}/g,N="async",K="/",J=31E4,I=1E3,D=-1==navigator.userAgent.indexOf("MSIE 6"),V,W=Math.floor(9*Math.random())+1;V=function(a){return 0<a.indexOf("pubsub")&&a.replace("pubsub","ps"+(10>++W?W:W=1))||a};var X={list:{},unbind:function(a){X.list[a]=[]},bind:function(a,c){(X.list[a]=X.list[a]||[]).push(c)},fire:function(a,c){t(X.list[a]||[],function(a){a(c)})}},Y=r("pubnub")||{},O=0,P=[],Z=function(a){var c=
{},b=a.publish_key||"",e=a.subscribe_key||"",i=a.ssl?"s":"",k="http"+i+"://"+(a.origin||"pubsub.pubnub.com"),j={history:function(a,b){var b=a.callback||b,c=a.limit||100,f=a.channel,h=F();if(!f)return s("Missing Channel");if(!b)return s("Missing Callback");L({c:h,url:[k,"history",e,G(f),h,c],b:function(a){b(a)},a:function(a){s(a)}})},time:function(a){var b=F();L({c:b,url:[k,"time",b],b:function(b){a(b[0])},a:function(){a(0)}})},uuid:function(a){var b=F();L({c:b,url:["http"+i+"://pubnub-prod.appspot.com/uuid?callback="+
b],b:function(b){a(b[0])},a:function(){a(0)}})},publish:function(a,c){var c=c||a.callback||m(),d=a.message,f=a.channel,h=F();if(!d)return s("Missing Message");if(!f)return s("Missing Channel");if(!b)return s("Missing Publish Key");d=JSON.stringify(d);d=[k,"publish",b,e,0,G(f),h,G(d)];L({c:h,b:function(a){c(a)},a:function(){c([0,"Disconnected"])},url:d})},unsubscribe:function(a){a=a.channel;a in c&&(c[a].d=0,c[a].e&&c[a].e(0))},subscribe:function(a,b){function d(){var a=F();c[f].d&&(c[f].e=L({c:a,
url:[ea,"subscribe",e,G(f),a,i],a:function(){v||(v=1,H());setTimeout(d,I);j.time(function(a){a&&v?(v=0,g()):p()})},b:function(a){c[f].d&&(T||(T=1,l()),v&&(v=0,g()),h=S.set(e+f,i=h&&S.get(e+f)||a[1]),t(a[0],function(c){b(c,a)}),setTimeout(d,10))}}))}var f=a.channel,b=b||a.callback,h=a.restore,i=0,p=a.error||m(),l=a.connect||m(),g=a.reconnect||m(),H=a.disconnect||m(),v=0,T=0,ea=V(k);if(!O)return P.push([a,b,j]);if(!f)return s("Missing Channel");if(!b)return s("Missing Callback");if(!e)return s("Missing Subscribe Key");
f in c||(c[f]={});if(c[f].d)return s("Already Connected");c[f].d=1;d()},xdr:L,ready:Q,db:S,each:t,map:w,css:B,$:r,create:C,bind:x,supplant:da,head:y,search:u,attr:A,now:q,unique:n,events:X,updater:ba,init:Z};return j};PUBNUB=Z({publish_key:A(Y,"pub-key"),subscribe_key:A(Y,"sub-key"),ssl:"on"==A(Y,"ssl"),origin:A(Y,"origin")});B(Y,{position:"absolute",top:-I});if("opera"in window||A(Y,"flash"))Y.innerHTML="<object id=pubnubs data=https://dh15atwfs066y.cloudfront.net/pubnub.swf><param name=movie value=https://dh15atwfs066y.cloudfront.net/pubnub.swf><param name=allowscriptaccess value=always></object>";
var R=r("pubnubs")||{};x("load",window,function(){setTimeout(Q,0)});PUBNUB.rdx=function(a,c){if(!c)return E[a].onerror();E[a].responseText=unescape(c);E[a].onload()};E.id=I;window.jQuery&&(window.jQuery.PUBNUB=PUBNUB);"undefined"!==typeof module&&(module.f=PUBNUB)&&Q()};
})();

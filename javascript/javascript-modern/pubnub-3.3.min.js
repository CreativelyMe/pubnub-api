(function(){
function d(a){function b(a){i||(i=1,clearTimeout(j),c&&(c.onerror=c.onload=null,c.abort&&c.abort(),c=null),a&&q())}function k(){if(!l){l=1;clearTimeout(j);try{response=JSON.parse(c.responseText)}catch(a){return b(1)}r(response)}}var c,i=0,l=0,j=timeout(function(){b(1)},e),q=a.c||function(){},r=a.e||function(){};try{c="undefined"!==typeof XDomainRequest&&new XDomainRequest||new XMLHttpRequest;c.onerror=c.onabort=function(){b(1)};c.onload=c.onloadend=k;c.timeout=e;url="http"+(a.d?"s":"")+"://"+a.origin+
f+a.url.join(f);if(a.data){var p=[];url+="?";for(key in a.data)p.push(key+"="+a.data[key]);url+=p.join(g)}c.open("GET",url,!0);c.send()}catch(t){return b(0),d(a)}return b}function h(a){var b={xdr:d,db:m,each:each,map:map,events:n};a.db=m;a.xdr=d;a.log=function(a){console.log(a)};a.jsonp_cb=function(){return"0"};b.__proto__=PN_API(a);return b}var f="/",g="&",e=31E4,m,s="undefined"!=typeof localStorage&&localStorage;
m={get:function(a){try{return s?s.getItem(a):-1==document.cookie.indexOf(a)?null:((document.cookie||"").match(RegExp(a+"=([^;]+)"))||[])[1]||null}catch(b){}},set:function(a,b){try{if(s)return s.setItem(a,b)&&0;document.cookie=a+"="+b+"; expires=Thu, 1 Aug 2030 20:00:00 UTC; path=/"}catch(k){}}};var n={list:{},unbind:function(a){n.list[a]=[]},bind:function(a,b){(n.list[a]=n.list[a]||[]).push(b)},fire:function(a,b){each(n.list[a]||[],function(a){a(b)})}};
"undefined"!==typeof module&&(module.b=h)||"undefined"!==typeof exports&&(exports.a=h)||(PUBNUB=h);
})();
